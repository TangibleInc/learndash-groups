{"version":3,"sources":["../../../../sources/js/admin/meta-boxes/pictures.js"],"names":["jQuery","document","getElementById","d","groupPicture","groupBanner","addEventListener","previewImgFile","input","image","background","$","ext","files","substring","lastIndexOf","toLowerCase","reader","FileReader","onload","e","attr","target","result","readAsDataURL"],"mappings":"aAAAA,OAAO,UAAW,CAEjB,GAAGC,SAASC,cAAT,CAAwB,2BAAxB,CAAH,CAAyD,CAExD,GAAIC,GAAIF,QAAR,CAEA,GAAMG,cAAgBD,EAAED,cAAF,CAAiB,2BAAjB,CAAtB,CACA,GAAMG,aAAeF,EAAED,cAAF,CAAiB,0BAAjB,CAArB,CAEA;AACAE,aAAaE,gBAAb,CAA8B,QAA9B,CAAwC,UAAM,CAC7CC,eAAeH,YAAf,CAA6BD,EAAED,cAAF,CAAiB,sBAAjB,CAA7B,CAAuE,IAAvE,CACA,CAFD,EAIA;AACAG,YAAYC,gBAAZ,CAA6B,QAA7B,CAAuC,UAAM,CAC5CC,eAAeF,WAAf,CAA4BF,EAAED,cAAF,CAAiB,qBAAjB,CAA5B,CAAqE,IAArE,CACA,CAFD,EAIA,GAAIK,gBAAiB,QAAjBA,eAAiB,CAACC,KAAD,CAAQC,KAAR,CAAsC,IAAvBC,WAAuB,2DAAV,KAAU,CAEzD,GAAIC,GAAIX,MAAR,CACA,GAAIY,KAAMJ,MAAMK,KAAN,CAAY,CAAZ,EAAe,MAAf,EAAuBC,SAAvB,CAAiCN,MAAMK,KAAN,CAAY,CAAZ,EAAe,MAAf,EAAuBE,WAAvB,CAAmC,GAAnC,EAA0C,CAA3E,EAA8EC,WAA9E,EAAV,CAED,GAAIR,MAAMK,KAAN,EAAeL,MAAMK,KAAN,CAAY,CAAZ,CAAf,GAAkCD,KAAO,KAAP,EAAgBA,KAAO,KAAvB,EAAgCA,KAAO,MAAvC,EAAiDA,KAAO,KAA1F,CAAJ,CAAsG,CAElG,GAAIK,QAAS,GAAIC,WAAjB,CACAD,OAAOE,MAAP,CAAgB,SAAUC,CAAV,CAAa,CAC5B,GAAGV,aAAe,IAAlB,CAAwB,CACpBC,EAAEF,KAAF,EAASY,IAAT,CAAc,OAAd,4BAAiDD,EAAEE,MAAF,CAASC,MAA1D,OACH,CAFD,IAGI,CACAZ,EAAEF,KAAF,EAASY,IAAT,CAAc,KAAd,CAAqBD,EAAEE,MAAF,CAASC,MAA9B,CACH,CACD,CAPD,CASAN,OAAOO,aAAP,CAAqBhB,MAAMK,KAAN,CAAY,CAAZ,CAArB,CACH,CACD,CACD,CACD,CAxCD","file":"pictures.js","sourcesContent":["jQuery(function() {\r\n\r\n\tif(document.getElementById('ttsg_metabox-file-picture')) {\r\n\t\t\r\n\t\tlet d = document\r\n\r\n\t\tconst groupPicture \t= d.getElementById('ttsg_metabox-file-picture')\r\n\t\tconst groupBanner \t= d.getElementById('ttsg_metabox-file-banner')\r\n\r\n\t\t// Show the picture to upload if the user add any\r\n\t\tgroupPicture.addEventListener('change', () => {\r\n\t\t\tpreviewImgFile(groupPicture, d.getElementById(\"ttsg_metabox-picture\"), true)\r\n\t\t})\r\n\r\n\t\t// Show the banner to upload if the user add any\r\n\t\tgroupBanner.addEventListener('change', () => {\r\n\t\t\tpreviewImgFile(groupBanner, d.getElementById(\"ttsg_metabox-banner\"), true)\r\n\t\t})\r\n\r\n\t\tlet previewImgFile = (input, image, background = false) => {\r\n\t \t\r\n\t\t \tlet $ = jQuery;\r\n\t\t \tlet ext = input.files[0]['name'].substring(input.files[0]['name'].lastIndexOf('.') + 1).toLowerCase();\r\n\t\t\t\r\n\t\t\tif (input.files && input.files[0] && (ext == \"gif\" || ext == \"png\" || ext == \"jpeg\" || ext == \"jpg\")) {\r\n\t\t\t    \r\n\t\t\t    let reader = new FileReader();\r\n\t\t\t    reader.onload = function (e) {\r\n\t\t\t    \tif(background === true) {\r\n\t\t\t        \t$(image).attr('style', `background-image: url('${e.target.result}')`);\r\n\t\t\t    \t}\r\n\t\t\t    \telse{\r\n\t\t\t        \t$(image).attr('src', e.target.result);\r\n\t\t\t    \t}\r\n\t\t\t    }\r\n\r\n\t\t\t    reader.readAsDataURL(input.files[0]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n})"]}